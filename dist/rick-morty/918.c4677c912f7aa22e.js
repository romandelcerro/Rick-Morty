"use strict";(self.webpackChunkRick_Morty=self.webpackChunkRick_Morty||[]).push([[918],{2918:(W,x,c)=>{c.d(x,{u:()=>m});var o=c(3382),D=c(2181),E=c(8180),g=c(6814),i=c(4946),w=c(1393),y=c(7540),A=c(9028);function h(v,_){if(1&v&&(i.TgZ(0,"div",4),i._UZ(1,"app-character",5),i.qZA()),2&v){const u=_.$implicit;i.xp6(1),i.Q6J("character",u)}}function I(v,_){1&v&&(i.TgZ(0,"div",6)(1,"h2",7),i._uU(2,"No results..."),i.qZA()())}function p(v,_){if(1&v){const u=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){i.CHM(u);const C=i.oxw();return i.KtG(C.onScrollTop())}),i._uU(1," Go UP\n"),i.qZA()}2&v&&i.Q6J("ngClass","no-hidden")}let m=(()=>{class v{constructor(u,S,C,M){this.document=u,this.characterSvc=S,this.route=C,this.router=M,this.characters=[],this.info={next:""},this.showGoUpButton=!1,this.pageNum=1,this.onUrlChanged()}ngOnInit(){}onWindowScroll(){const u=window.scrollY;this.showGoUpButton=(u||this.document.documentElement.scrollTop)>500}onScrollTop(){this.document.body.scrollTop=0,this.document.documentElement.scrollTop=0}onScrollDown(){this.info.next&&(this.pageNum++,this.getDataFromService())}onUrlChanged(){this.router.events.pipe((0,D.h)(u=>u instanceof o.m2)).subscribe(()=>{this.characters=[],this.pageNum=1,this.getCharactersByQuery()})}getCharactersByQuery(){this.route.queryParams.pipe((0,E.q)(1)).subscribe(u=>{this.query=u.q,this.getDataFromService()})}getDataFromService(){this.characterSvc.searchCharacters(this.query,this.pageNum).pipe((0,E.q)(1)).subscribe(u=>{if(u?.results?.length){const{info:S,results:C}=u;this.characters=[...this.characters,...C],this.info=S}else this.characters=[]})}}return v.\u0275fac=function(u){return new(u||v)(i.Y36(g.K0),i.Y36(w.A),i.Y36(o.gz),i.Y36(o.F0))},v.\u0275cmp=i.Xpm({type:v,selectors:[["app-character-list"]],hostBindings:function(u,S){1&u&&i.NdJ("scroll",function(){return S.onWindowScroll()},!1,i.Jf7)},decls:4,vars:3,consts:[["infinite-scroll","",1,"row","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","d-flex","justify-content-center",3,"scrolled"],["class","mt-2",4,"ngFor","ngForOf"],["class","d-flex justify-content-center text-center mt-5",4,"ngIf"],["class","btn btn-dark sizeButtonUp",3,"ngClass","click",4,"ngIf"],[1,"mt-2"],[1,"d-flex","justify-content-center",3,"character"],[1,"d-flex","justify-content-center","text-center","mt-5"],[1,"text-white","text-stroked"],[1,"btn","btn-dark","sizeButtonUp",3,"ngClass","click"]],template:function(u,S){1&u&&(i.TgZ(0,"div",0),i.NdJ("scrolled",function(){return S.onScrollDown()}),i.YNc(1,h,2,1,"div",1),i.YNc(2,I,3,0,"div",2),i.qZA(),i.YNc(3,p,2,1,"button",3)),2&u&&(i.xp6(1),i.Q6J("ngForOf",S.characters),i.xp6(1),i.Q6J("ngIf",S.characters.length<=0),i.xp6(1),i.Q6J("ngIf",S.showGoUpButton))},dependencies:[g.mk,g.sg,g.O5,y.Ry,A.r]}),v})()},9028:(W,x,c)=>{c.d(x,{r:()=>A});var o=c(4946),D=c(6814),E=c(3382);function g(h,I){if(1&h&&(o.TgZ(0,"span",14),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&h){const p=o.oxw();o.xp6(1),o.AsE("\u{1f7e2}",p.character.status," - ",o.Dn7(2,2,p.character.species,0,10),"")}}function i(h,I){if(1&h&&(o.TgZ(0,"span",15),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&h){const p=o.oxw();o.xp6(1),o.AsE("\u{1f534}",p.character.status," - ",o.Dn7(2,2,p.character.species,0,10),"")}}function w(h,I){if(1&h&&(o.TgZ(0,"span",16),o._uU(1),o.ALo(2,"slice"),o.qZA()),2&h){const p=o.oxw();o.xp6(1),o.AsE("\u{1f7e3}",p.character.status," - ",o.Dn7(2,2,p.character.species,0,10),"")}}const y=function(h){return["/character-details",h]};let A=(()=>{class h{get alive(){return"Alive"===this.character.status}get dead(){return"Dead"===this.character.status}get unknown(){return"unknown"===this.character.status}}return h.\u0275fac=function(p){return new(p||h)},h.\u0275cmp=o.Xpm({type:h,selectors:[["app-character"]],inputs:{character:"character"},decls:21,vars:24,consts:[[1,"card","bg-dark","text-white","border","border-2","border-black","rounded-4","d-flex","justify-content-center","w-auto","w-sm-25"],[1,"image"],[3,"routerLink"],[1,"card-img-top",3,"src","alt"],[1,"card-inner","text-center"],[1,"name-container"],[1,"text-decoration-none","text-white",3,"routerLink"],[1,"pa"],["class","status-span alive",4,"ngIf"],["class","status-span dead",4,"ngIf"],["class","status-span unknown",4,"ngIf"],[1,"created-container"],[1,"gender-container"],[1,"ph5"],[1,"status-span","alive"],[1,"status-span","dead"],[1,"status-span","unknown"]],template:function(p,m){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"a",2),o._UZ(3,"img",3),o.qZA()(),o.TgZ(4,"div",4)(5,"div",5)(6,"a",6)(7,"h2",7),o._uU(8),o.ALo(9,"slice"),o.qZA()(),o.YNc(10,g,3,6,"span",8),o.YNc(11,i,3,6,"span",9),o.YNc(12,w,3,6,"span",10),o.qZA(),o.TgZ(13,"div",11)(14,"small"),o._uU(15),o.ALo(16,"date"),o.qZA()(),o.TgZ(17,"div",12)(18,"p",13),o._uU(19),o.ALo(20,"slice"),o.qZA()()()()),2&p&&(o.xp6(2),o.Q6J("routerLink",o.VKq(20,y,m.character.id)),o.xp6(1),o.Q6J("src",m.character.image,o.LSH)("alt",m.character.name),o.xp6(3),o.Q6J("routerLink",o.VKq(22,y,m.character.id)),o.xp6(2),o.Oqu(o.Dn7(9,10,m.character.name,0,12)),o.xp6(2),o.Q6J("ngIf",m.alive),o.xp6(1),o.Q6J("ngIf",m.dead),o.xp6(1),o.Q6J("ngIf",m.unknown),o.xp6(3),o.hij("Creation: ",o.lcZ(16,14,m.character.created),""),o.xp6(4),o.hij("Location: ",o.Dn7(20,16,m.character.origin.name,0,10),""))},dependencies:[D.O5,E.rH,D.OU,D.uU],encapsulation:2,changeDetection:0}),h})()},1393:(W,x,c)=>{c.d(x,{A:()=>E});var o=c(4946),D=c(9862);let E=(()=>{class g{constructor(w){this.http=w,this.baseUrlAPI="https://rickandmortyapi.com/api/character",this.UrlEpisode="https://rickandmortyapi.com/api/episode/"}searchCharacters(w="",y=1){return this.http.get(`${this.baseUrlAPI}/?name=${w}&page=${y}`)}getDetails(w){return this.http.get(`${this.baseUrlAPI}/${w}`)}}return g.\u0275fac=function(w){return new(w||g)(o.LFG(D.eN))},g.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},7540:(W,x,c)=>{c.d(x,{Ry:()=>Ut,Rq:()=>Lt});var o=c(4946),D=c(2096),E=c(4829),g=c(5592),i=c(1631),w=c(4266),y=c(4674),A=c(7400);const h=["addListener","removeListener"],I=["addEventListener","removeEventListener"],p=["on","off"];function m(t,e,n,r){if((0,y.m)(n)&&(r=n,n=void 0),r)return m(t,e,n).pipe((0,A.Z)(r));const[s,l]=function S(t){return(0,y.m)(t.addEventListener)&&(0,y.m)(t.removeEventListener)}(t)?I.map(a=>f=>t[a](e,f,n)):function _(t){return(0,y.m)(t.addListener)&&(0,y.m)(t.removeListener)}(t)?h.map(v(t,e)):function u(t){return(0,y.m)(t.on)&&(0,y.m)(t.off)}(t)?p.map(v(t,e)):[];if(!s&&(0,w.z)(t))return(0,i.z)(a=>m(a,e,n))((0,E.Xf)(t));if(!s)throw new TypeError("Invalid event target");return new g.y(a=>{const f=(...d)=>a.next(1<d.length?d:d[0]);return s(f),()=>l(f)})}function v(t,e){return n=>r=>t[n](e,r)}var C=c(7398),M=c(9397),j=c(2181),V=c(7394);class G extends V.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const L={setInterval(t,e,...n){const{delegate:r}=L;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=L;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var X=c(9039);const R={now:()=>(R.delegate||Date).now(),delegate:void 0};class U{constructor(e,n=U.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}U.now=R.now;const B=new class q extends U{constructor(e,n=U.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class $ extends G{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const s=this.id,l=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(l,s,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(l,this.id,n),this}requestAsyncId(e,n,r=0){return L.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&L.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let s,r=!1;try{this.work(e)}catch(l){r=!0,s=l||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),tt=B;var et=c(9360),F=c(8251),ot=c(671);function st(t,e=B,n){const r=function it(t=0,e,n=tt){let r=-1;return null!=e&&((0,ot.K)(e)?n=e:r=e),new g.y(s=>{let l=function rt(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;l<0&&(l=0);let a=0;return n.schedule(function(){s.closed||(s.next(a++),0<=r?this.schedule(void 0,r):s.complete())},l)})}(t,e);return function nt(t,e){return(0,et.e)((n,r)=>{const{leading:s=!0,trailing:l=!1}=e??{};let a=!1,f=null,d=null,T=!1;const O=()=>{d?.unsubscribe(),d=null,l&&(Q(),T&&r.complete())},N=()=>{d=null,T&&r.complete()},J=P=>d=(0,E.Xf)(t(P)).subscribe((0,F.x)(r,O,N)),Q=()=>{if(a){a=!1;const P=f;f=null,r.next(P),!T&&J(P)}};n.subscribe((0,F.x)(r,P=>{a=!0,f=P,(!d||d.closed)&&(s?Q():J(P))},()=>{T=!0,(!(l&&a&&d)||d.closed)&&r.complete()}))})}(()=>r,n)}function lt(t,e,n,r){const s=window&&!!window.document&&window.document.documentElement;let l=s&&e?window:n;if(t&&(l=t&&s&&"string"==typeof t?function ct(t,e,n){return(n?window.document:e).querySelector(t)}(t,n.nativeElement,r):t,!l))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return l}function K(t){return t&&!t.firstChange}const ut={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},dt={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class ht{constructor(e=!0){this.vertical=e,this.propsMap=e?ut:dt}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function mt(t){return["Window","global"].some(n=>Object.prototype.toString.call(t).includes(n))}function H(t,e){return t?e.document.documentElement:null}function Z(t,e){const n=function Tt({container:t,isWindow:e,axis:n}){const{offsetHeightKey:r,clientHeightKey:s}=Y(n);return k(t,e,r,s)}(e);return e.isWindow?function vt(t,e,n){const{axis:r,container:s,isWindow:l}=n,{offsetHeightKey:a,clientHeightKey:f}=Y(r),d=t+z(H(l,s),r,l),T=k(e.nativeElement,l,a,f),O=function yt(t,e,n){const r=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[r]+z(t,e,n)}(e.nativeElement,r,l)+T;return{height:t,scrolled:d,totalToScroll:O,isWindow:l}}(n,t,e):function St(t,e,n){const{axis:r,container:s}=n;return{height:t,scrolled:s[r.scrollTopKey()],totalToScroll:s[r.scrollHeightKey()],isWindow:!1}}(n,0,e)}function Y(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function k(t,e,n,r){if(isNaN(t[n])){const s=H(e,t);return s?s[r]:0}return t[n]}function z(t,e,n){const r=e.pageYOffsetKey(),s=e.scrollTopKey(),l=e.offsetTopKey();return isNaN(window.pageYOffset)?H(n,t)[s]:t.ownerDocument?t.ownerDocument.defaultView[r]:t[l]}function wt(t,e={down:0,up:0},n){let r,s;if(t.totalToScroll<=0)return!1;const l=t.isWindow?t.scrolled:t.height+t.scrolled;return n?(r=(t.totalToScroll-l)/t.totalToScroll,s=(e?.down?e.down:0)/10):(r=t.scrolled/(t.scrolled+(t.totalToScroll-l)),s=(e?.up?e.up:0)/10),r<=s}class _t{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,n){this.updateScrollPosition(e),this.updateTotalToScroll(n)}updateTriggeredFlag(e,n){n?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,n){return n?this.triggered.down===e:this.triggered.up===e}}function xt(t){const{scrollContainer:e,scrollWindow:n,element:r,fromRoot:s}=t,l=function pt({windowElement:t,axis:e}){return function gt(t,e){const n=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return{...t,container:n}}({axis:e,isWindow:mt(t)},t)}({axis:new ht(!t.horizontal),windowElement:lt(e,n,r,s)}),a=new _t({totalToScroll:Z(r,l)}),d={up:t.upDistance,down:t.downDistance};return function At(t){let e=m(t.container,"scroll");return t.throttle&&(e=e.pipe(st(t.throttle,void 0,{leading:!0,trailing:!0}))),e}({container:l.container,throttle:t.throttle}).pipe((0,i.z)(()=>(0,D.of)(Z(r,l))),(0,C.U)(T=>function Ot(t,e,n){const{scrollDown:r,fire:s}=function Dt(t,e,n){const r=function Ct(t,e){return t<e.scrolled}(t,e);return{fire:wt(e,n,r),scrollDown:r}}(t,e,n);return{scrollDown:r,fire:s,stats:e}}(a.lastScrollPosition,T,d)),(0,M.b)(({stats:T})=>a.updateScroll(T.scrolled,T.totalToScroll)),(0,j.h)(({fire:T,scrollDown:O,stats:{totalToScroll:N}})=>function ft(t,e,n){return!!(t&&e||!n&&e)}(t.alwaysCallback,T,a.isTriggeredScroll(N,O))),(0,M.b)(({scrollDown:T,stats:{totalToScroll:O}})=>{a.updateTriggeredFlag(O,T)}),(0,C.U)(Pt))}const b={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Pt(t){const{scrollDown:e,stats:{scrolled:n}}=t;return{type:e?b.DOWN:b.UP,payload:{currentScrollPosition:n}}}let Ut=(()=>{class t{constructor(n,r){this.element=n,this.zone=r,this.scrolled=new o.vpe,this.scrolledUp=new o.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:n,infiniteScrollDisabled:r,infiniteScrollDistance:s}){const l=K(n),a=K(r),f=K(s),d=!a&&!this.infiniteScrollDisabled||a&&!r.currentValue||f;(l||a||f)&&(this.destroyScroller(),d&&this.setup())}setup(){(function at(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=xt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(n=>this.handleOnScroll(n))})}handleOnScroll({type:n,payload:r}){const s=n===b.DOWN?this.scrolled:this.scrolledUp;(function Mt(t){return t.observed??t.observers.length>0})(s)&&this.zone.run(()=>s.emit(r))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(o.SBq),o.Y36(o.R0b))},t.\u0275dir=o.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[o.TTD]}),t})(),Lt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({}),t})()}}]);